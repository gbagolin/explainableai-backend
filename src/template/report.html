<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <!--    <link href="{{ url_for('static', path='/report.css') }}" rel="stylesheet">-->
    <title>Report</title>
    <meta name="description" content="Report example">
</head>
<style>
    .text-center{
        text-align:center;
    }
    .text-yellow{
        color: rgba(251, 191, 36, 1);
    }
    .anomalies {
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }

    .anomalies td, .anomalies th {
      border: 1px solid #ddd;
<!--      padding: 8px;-->
    }

    .anomalies tr:nth-child(even){background-color: #f2f2f2;}

    .anomalies tr:hover {background-color: #ddd;}

    .anomalies th {
<!--      padding-top: 12px;-->
<!--      padding-bottom: 12px;-->
      text-align: left;
      background-color: rgba(251, 191, 36, 1);
      color: white;
    }

    .m-5{
        margin: 5rem;
    }

    .font-sm{
        font-size: 0.7rem;
    }



</style>
<body>
<article>
    <h1 class="text-center text-yellow">Explainable POMCP report generated at:</h1>
    <h1 class="text-center text-yellow">{{now}}</h1>
    <div class="m-5"></div>
    <p>In table 1, all the anomalies whose action choosen by the agent is equal to the one analyzed in the rule are
        shown.</p>
    <table class="anomalies">
        <tr>
            <th>#</th>
            <th>Run</th>
            <th>Step</th>
            <th>Action</th>
            <th>Beliefs</th>
            <th>Severity</th>
        </tr>
        {%for anom in anomalies_sa%}
        <tr>
            <td>{{loop.index}}</td>
            <td>{{anom['run']}}</td>
            <td>{{anom['step']}}</td>
            <td>{{anom['action']}}</td>
            <td>
                {%for bel in anom['beliefs']%}
                {{bel['state']}}: {{bel['belief']|round(2)}}<br>
                {% endfor %}
            </td>
            <td>{{anom['severity']}}</td>
        </tr>
        {% endfor %}
    </table>
    <p class="text-center font-sm">Table 1. </p>
    <p>In table 2, all the anomalies whose action choosen by the agent is different to the one analyzed in the rule are
        shown.</p>
    <table class="anomalies">
        <tr>
            <th>#</th>
            <th>Run</th>
            <th>Step</th>
            <th>Action</th>
            <th>Beliefs</th>
        </tr>
        {%for anom in anomalies_da%}
        <tr>
            <td>{{loop.index}}</td>
            <td>{{anom['run']}}</td>
            <td>{{anom['step']}}</td>
            <td>{{anom['action']}}</td>
            <td>
                {%for bel in anom['beliefs']%}
                {{bel['state']}}: {{bel['belief']|round(2)}}<br>
                {% endfor %}
            </td>
        </tr>
        {% endfor %}
    </table>
    <p class="text-center font-sm">Table 2. </p>
</article>
</body>
</html>
